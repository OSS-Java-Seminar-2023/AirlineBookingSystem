<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Flight Search</title>
  <link rel="stylesheet" th:href="@{/css/home.css}">
  <link rel="stylesheet" th:href="@{/css/button.css}">
  <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"/>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
</head>

<header>
  <div th:replace="~{/nav.html}"></div>
</header>

<body>

<div id="header">
  <h2>Airports List</h2>
</div>

<form th:action="@{/airport/create}" method="get">
  <button class="button-29" role="button"><span class="material-symbols-outlined">manage_search</span></button>
</form>

<div th:if="${error}" class="error" style="color: red;">
  <p th:text="${error}"></p>
</div>

<div id="content">
  <table border="1">
    <thead>
    <tr>
      <th>Name</th>
      <th>IATA Code</th>
      <th>Delete</th>
      <th>Update</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="airport : ${airports}">
      <td th:text="${airport.getName()}"></td>
      <td th:text="${airport.getIATA()}"></td>
      <td>
        <form th:action="@{/airport/delete}" method="post">
          <input type="hidden" name="airportId" th:value="${airport.getId()}"/>
          <button type="submit" class="button-29" role="button">
            <span class="material-symbols-outlined">manage_search</span>
          </button>
        </form>
      </td>
      <td>
        <form th:action="@{/airports/update}" method="post">
          <input type="hidden" name="airportId" th:value="${airport.getId()}"/>
          <button type="submit" class="button-29" role="button">
            <span class="material-symbols-outlined">manage_search</span>
          </button>
        </form>
      </td>
    </tr>
    </tbody>

  </table>
</div>

</body>
</html>
